{% extends "dojango/base.html" %}

{% block dojango_post_dj_config %}
<script>djConfig.parseOnLoad = false;</script>
{% endblock %}

{% block dojango_header_extra %}
<style type="text/css">
        html, body {
                height: 100%;
                width: 100%;
                padding: 0;
                border: 0;
        }
        #main {
                height: 100%;
                width: 100%;
                padding: 0;
                border: 0;
        }
        #leftAccordion {
                width: 45%;
        }
        #bottomTabs {
                height: 25%;
        }
        #main .dijitSplitterH {
                height: 7px
        }
        #main .dijitSplitterV {
                width: 7px
        }
        /* pre-loader specific stuff to prevent unsightly flash of unstyled
         content */
        #loader {
                padding:0;
                margin:0;
                position:absolute;
                top:0;
                left:0;
                width:100%;
                height:100%;
                background:#ededed;
                z-index:999;
                vertical-align:center;
        }
        #loaderInner {
                padding:5px;
                position:relative;
                left:0;
                top:0;
                width:275px;
                background:#3c3;
                color:#fff;
        }
        hr.spacer {
                border:0;
                background-color:#ededed;
                width:80%;
                height:1px;
        }
        /* for custom menu buttons, do not appear to have any effect */
        .myCustomTheme .dijitButtonNode {
                border:1px solid #000;
                vertical-align: middle;
                padding: 0.2em 0.2em;
                background: url("themeTesterImages/blackButtonEnabled.gif")
                repeat-x bottom left #474747;
                color: blue;
        }
        .myCustomTheme .dijitButtonHover .dijitButtonNode, .myCustomTheme
        .dijitToggleButtonHover .dijitButtonNode {
                background: url("themeTesterImages/blackButtonHover.gif")
                repeat-x bottom left #3b3b3b !important;
        }
</style>
<script type="text/javascript">
        window.__globalList = {
                dojo: true,
                dijit: true,
                dojox: true,
                djConfig: true
        };
        for(var i in window) {
                window.__globalList[i] = true;
        }
</script>
{% endblock %}

{% block dojango_body %}
<body class="{{ DOJANGO.THEME }}">
        <!-- basic preloader: -->
        <div id="loader">
                <div id="loaderInner">
                        Loading themeTester:
                </div>
        </div>
        <!-- "main" BorderContainer just contains page title and another
                BorderContainer -->
        <div id="main" dojoType="dijit.layout.BorderContainer">

                <h1 id="header" dojoType="dijit.layout.ContentPane"
region="top">
                        Lighthouse</h1>
                <!-- "mainSplit" BorderContainer has all the real content
-->
                <div dojoType="dijit.layout.BorderContainer"
liveSplitters="false"
                        design="sidebar" region="center" id="mainSplit">

                        <div dojoType="dijit.layout.AccordionContainer"
duration="200"
                                minSize="65" style="minwidth: 460px;"
id="leftAccordion"
                                region="leading" splitter="true">

                                <div dojoType="dijit.layout.AccordionPane"
                                title="Advanced Search" selected="false">
                                        <form action="/search/"
method="get">
                                                <fieldset>
                                                        <legend>
                                                                Search
Expression
                                                        </legend>
                                                        <p>
                                                                <input
name="q" id="searchText"
                                                                value=""
                                                                title="Enter
search expression here" size="60"/>
                                                        </p>
                                                </fieldset>
                                                <table>
                                                        <tr>
                                                                <th
colspan="2" align="center">
                                                                <button
dojoType="dijit.form.Button"
        
type="submit" name="search" id="searchButton"
                                                                title="Click
here to search for expression">
        
Search
                                                                </button>
                                                                </th>
                                                                <th
colspan="2" align="center">
                                                                <button
dojoType="dijit.form.Button"
        
type="submit" name="clear" id="clearButton"
                                                                title="Click
to clear the search result">
        
Clear
                                                                </button>
                                                                </th>
                                                        </tr>
                                                </table>
                                        </form>
                                </div>
                                <div dojoType="dijit.layout.AccordionPane"
                                title="Search" selected="true">
                                        <form action="/search/"
method="get">
                        <label for"problemType"><b>Select Problem Type</b>
                                                </label>
                                                <select id       =
"selProblemType"
                                                        onchange =
"selectProblemType()">
                                                        <option value="LE"
>Linear Equation</option>
                                                </select>
                                                <p/>
                                                <label
for"dataType"><b>Select Data Type</b></label>
                        <select id="selDataType"
onchange="selectDataType()">
                            <option value="S" >Single</option>
                            <option value="D" >Double</option>
                            <option value="CS">Complex Single</option>
                            <option value="CD">Complex Double</option>
                        </select>
                                                <p/>
                        <label for"matrixType"><b>Select Matrix
Type</b></label>
                        <select id="selMatrixType"
onchange="selectMatrixType()">
                            <option value="G"  >General</option>
                            <option value="S"  >Symmetric</option>
                            <option value="H"  >Hermitian</option>
                            <option value="SPD">SPD (symmetric and positive
definite)</option>
                        </select>
                                                <p/>
                        <label for"zeroStructure"><b>Select Zero
Structure</b></label>
                        <select id="selZeroStructure"
onchange="selectZeroStructure()">
                            <option value="D"  >Dense</option>
                            <option value="B"  >Banded</option>
                            <option value="T"  >Tridiagonal</option>
                        </select>
                                                <p/>
                        <label for"matrixStroage"><b>Select Matrix
Storage</b></label>
                        <select id="selMatrixStorage"
onchange="selectMatrixStorage()">
                            <option value="F"  >Full</option>
                            <option value="P"  >Packed</option>
                            <option value="B"  >Banded</option>
                                                        <option value="T"
>Tridiagonal</option>
                        </select>
                                                <p/>
                                                <table>
                            <tr>
                                <th colspan="2" align="center">
                                <button dojoType="dijit.form.Button"
                                type="submit" name="search"
id="searchButton"
                                title="Click here to search for criteria">
                                    Search
                                </button>
                                </th>
                                <th colspan="2" align="center">
                                <button dojoType="dijit.form.Button"
                                type="submit" name="reset" id="resetButton"
                                title="Click to reset to defaults">
                                    Reset
                                </button>
                                </th>
                            </tr>
                        </table>
                    </form>
                                </div>
                                <div dojoType="dijit.layout.AccordionPane"
                                title="Refine Result">
                                </div>
                                <div dojoType="dijit.layout.AccordionPane"
title="Preferences">
                                </div>
                        </div><!-- end AccordionContainer -->
                        <!-- top tabs (marked as "center" to take up the
main part of the
                                BorderContainer) -->
                        <div dojoType="dijit.layout.TabContainer"
region="center"
                        id="topTabs">
                                <!-- first tab? -->
                                <div id="tab1"
dojoType="dijit.layout.ContentPane"
                                title="Script" selected="true"
                                style="padding:10px;display:none; ">
                                        <textarea id="scriptArea" rows="22"
cols="80"
                                        title="Enter or drop commands here">
                                        </textarea>
                                </div><!-- end first tab -->
                                <!-- second upper tab -->

                                <div id="tab2"
dojoType="dijit.layout.ContentPane"
                                title="Graphics"
                                style="padding:10px; display:none;">
                                </div><!-- end:second upper tab -->
                                <!-- start third upper tab -->
                                <div id="tab3"
dojoType="dijit.layout.ContentPane"
                                title="Expert"
                                style="padding:10px; display:none;  ">
                                </div><!-- end third upper tab-->
                        </div><!-- end of region="center" TabContainer -->
                        <!-- bottom right tabs -->
                        <div dojoType="dijit.layout.TabContainer"
id="bottomTabs"
                        tabPosition="bottom" selectedChild="btab1"
                        region="bottom" splitter="true">

                                <!-- btab 1 -->
                                <div id="btab1"
dojoType="dijit.layout.ContentPane"
                                title="Run" style=" padding:10px; "
                                style="height: auto;">
                                        <table>
                                                <tr>
                                                        <th colspan="2"
align="center">
                                                        <button
dojoType=dijit.form.Button
                                                        title="Click to run
script"
                                                        type="submit"
name="run">
                                                                Run
                                                        </button>
                                                        </th>
                                                </tr>
                                        </table>
                                </div><!-- end btab1 -->
                                <!-- btab 2 -->
                                <div id="btab2"
dojoType="dijit.layout.ContentPane"
                                title="Export" style=" padding:10px; "
                                style="height: auto;">
                                        <table>
                                                <tr>
                                                        <th colspan="2"
align="center">
                                                        <button
dojoType=dijit.form.Button
                                                        title="Click to run
script"
                                                        type="submit"
name="export">
                                                                Export
                                                        </button>
                                                        </th>
                                                </tr>
                                        </table>
                                </div><!-- end btab2 -->
                                <!-- btab3 -->
                                <div id="btab3"
dojoType="dijit.layout.ContentPane"
                                title="Authors" style="padding:20px;">
                                        <span id="themeData"></span>
                                </div>
                                <!-- end btab3 -->
                        </div><!-- end Bottom TabContainer -->
                </div> <!-- end of "mainSplit" BorderContainer -->
        </div><!-- end of "main" BorderContainer -->
        <!-- dialog in body -->
        <div id="dialog1" dojoType="dijit.Dialog" title="Floating Modal
Dialog"
        style="display:none;" href="{{ DOJANGO.DIJIT_URL
}}/tests/layout/doc0.html">
        </div>
        <div id="dojangoDialog" dojoType="dijit.Dialog"
        title="Welcome to Lighthouse"
        style="text-align:center;">
                <h1 style="font-size:2em; font-weight:bold;">
                        Congratulations, Lighthouse is running!</h1>
                <img src="{{ DOJANGO.DOJANGO_URL
}}/resources/dojango_logo.jpg"
                height="150" style="margin:4em;" />
                <br />
                Press ESC to close dialog, or
                <br />
                <button dojoType="dijit.form.Button"
                onclick="dijit.byId('dojangoDialog').hide()">
                        Close dialog
                </button>
        </div>
        <script type="text/javascript">
                // dojo.requires()

                var loadingEl = dojo.byId("loaderInner");

                loadingEl.innerHTML += "<br />* Menu widgets - dijit.Menu";
                dojo.require("dijit.Menu");
                // dojo.require("dijit.Calendar");
                // dojo.require("dijit._Calendar");
                dojo.require("dijit.ColorPalette");
                dojo.require("dijit.ProgressBar");
                dojo.require("dijit.TitlePane");
                dojo.require("dijit.Tooltip");
                dojo.require("dijit.Tree");
                loadingEl.innerHTML += "<br />* Tree widget - dijit.Tree";

                // editor:
                loadingEl.innerHTML += "<br />* Rich text editor -
dijit.Editor";
                dojo.require("dijit.Editor");

                // dnd:
                loadingEl.innerHTML += "<br />* Drag and drop library -
dojo.dnd";
                dojo.require("dojo.dnd.Source");

                // various Form elemetns
                loadingEl.innerHTML += "<br />* Form widgets - dijit.form";
                dojo.require("dijit.form.CheckBox");
                dojo.require("dijit.form.Textarea");
                dojo.require("dijit.form.FilteringSelect");
                dojo.require("dijit.form.TextBox");
                dojo.require("dijit.form.DateTextBox");
                dojo.require("dijit.form.TimeTextBox");
                dojo.require("dijit.form.Button");
                dojo.require("dijit.InlineEditBox");
                dojo.require("dijit.form.NumberSpinner");
                dojo.require("dijit.form.Slider");
                // dojo.require("HorizontalSlider");
                // dojo.require("VerticalRule");

                // layouts used in page
                loadingEl.innerHTML += "<br />* Layout engine widgets -
dijit.layout";
                dojo.require("dijit.layout.AccordionContainer");
                dojo.require("dijit.layout.ContentPane");
                dojo.require("dijit.layout.TabContainer");
                dojo.require("dijit.layout.BorderContainer");
                loadingEl.innerHTML += "<br />* Dialog widgets -
dijit.Dialog";
                dojo.require("dijit.Dialog");

                // scan page for widgets and instantiate them
                dojo.require("dojo.parser");

                // humm?
                dojo.require("dojo.date.locale");

                // for the Tree
                loadingEl.innerHTML +=
                "<br />* Dojo server data interfaces - dojo.data stores";
                dojo.require("dojo.data.ItemFileReadStore");
                dojo.require("dojox.data.QueryReadStore");

                // for the colorpalette
                function setColor(color) {
                        var theSpan = dojo.byId("outputSpan");
                        dojo.style(theSpan,"color",color);
                        theSpan.innerHTML = color;
                }

                // for the calendar
                function myHandler(id,newValue) {
                        console.debug("onChange for id = " + id + ", value:
" + newValue);
                }

        // for data type selection
                function selectDataType () {
                        var selType  =
document.getElementById("selDataType");
                        var dataType = selType.value;
                }
                
                // for problem type selection
        function selectProblemType () {
            var selProbType = document.getElementById("selProblemType");
            var problemType = selProbType.value;
        }
                
                // for matrix type selection
        function selectMatrixType () {
            var selMatrixType = document.getElementById("selMatrixType");
            var matrixType    = selMatrixType.value;
        }
                
                // for zero structure selection
        function selectZeroStructure () {
            var selZeroStructure =
document.getElementById("selZeroStructure");
            var zeroStructure    = selZeroStructure.value;
        }
                
                // for matrix storage selection
        function selectMatrixStorage () {
            var selMatrixStorage =
document.getElementById("selMatrixStorage");
            var matrixStorage    = selMatrixStorage.value;
        }
                
                dojo.addOnLoad( function() {

                        // this is just a list of 'official' dijit themes,
you can use
                        // ?theme=String for 'un-supported' themes, too.
(eg: yours)
                        var availableThemes = [{
                                theme:"1",
                                author:"Sa-Lin Cheng Bernstein",
                                baseUri:"../themes/"
                        },{
                                theme:"2",
                                author:"Mohammad H. Huwaidi",
                                baseUri:"../themes/"
                        },{
                                theme:"3",
                                author:"Elizabeth R. Jessup",
                                baseUri:"../themes/"
                        },{
                                theme:"4",
                                author:"Boyana Norris",
                                baseUri:"../themes/"
                        }

                        ];

                        var holder = dojo.byId('themeData');
                        var tmpString='';
                        dojo.forEach(availableThemes, function(theme) {
                                tmpString += '<a
href="?theme='+theme.theme+'">'+
                                theme.theme+'</'+'a>: '+theme.author+'
<br>';
                        });
                        holder.innerHTML = tmpString;

                        var start = new Date().getTime();
                        dojo.parser.parse(dojo.byId('container'));
                        console.info("Total parse time: " + (new
Date().getTime() - start)
                        + "ms");
                        dijit.byId("dojangoDialog").show();

                        dojo.byId('loaderInner').innerHTML += " done.";
                        setTimeout( function hideLoader() {
                                var loader = dojo.byId('loader');
                                dojo.fadeOut({
                                        node: loader,
                                        duration:500,
                                        onEnd: function() {
                                                loader.style.display =
"none";
                                        }
                                }).play();
                        }, 250);
                        var strayGlobals = [];
                        for(var i in window) {
                                if(!window.__globalList[i]) {
                                        strayGlobals.push(i);
                                }
                        }
                        if(strayGlobals.length) {
                                console.warn("Stray globals:
"+strayGlobals.join(", "));
                        }
                });
        </script>
</body>
{% endblock %}


